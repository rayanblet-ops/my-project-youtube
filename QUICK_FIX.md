# üö® –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ CORS

## –ü—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —ç—Ç–æ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–í Firebase Console > Storage > Rules –≤—Å—Ç–∞–≤—å—Ç–µ:**

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

**–ù–∞–∂–º–∏—Ç–µ Publish –∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ 2 –º–∏–Ω—É—Ç—ã!**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Storage –≤–∫–ª—é—á–µ–Ω

1. –í Firebase Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Storage**
2. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "Get started" - –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º **"Production mode"** –∏–ª–∏ **"Test mode"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `us-central1`)
5. –ù–∞–∂–º–∏—Ç–µ **"Done"**

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ bucket name

–í —Ñ–∞–π–ª–µ `firebase/config.ts` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```typescript
storageBucket: "fir-7bb8f.firebasestorage.app"
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π bucket. –í Firebase Console > Storage > Files –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ URL bucket.

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ Storage

1. –í Firebase Console > Storage
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ (‚ãÆ) —Ä—è–¥–æ–º —Å "Storage"
3. –í—ã–±–µ—Ä–∏—Ç–µ "Delete bucket" (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Storage bucket
5. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1

### –í–∞—Ä–∏–∞–Ω—Ç 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
firebase.auth().currentUser
```
4. –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –ï—Å–ª–∏ `null` - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª:

1. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
2. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –≤—ã–π–¥–∏—Ç–µ –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Firebase Console:
- Storage > Rules - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã
- Storage > Files - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω bucket
- Authentication > Users - –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ

