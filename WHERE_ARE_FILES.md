# üìÅ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–∞—à–∏ —Ñ–∞–π–ª—ã?

## ‚úÖ –§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Firestore (–Ω–µ –≤ Storage!)

–ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –±–µ–∑ Storage, –≤—Å–µ —Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **Firestore Database** –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `videos`.

## üîç –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª—ã:

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Firebase Console
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.firebase.google.com/
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **"youtube"** (fir-7bb8f)
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ **"Firestore Database"** (–∏–ª–∏ "Cloud Firestore")
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **"Firestore Database"**

### –®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é "videos"
1. –í –ª–µ–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
2. –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é **"videos"**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë

### –®–∞–≥ 3: –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤
1. –í —Å—Ä–µ–¥–Ω–µ–π –∫–æ–ª–æ–Ω–∫–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–≤–∏–¥–µ–æ)
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π –¥–æ–∫—É–º–µ–Ω—Ç
3. –í –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è:
   - `videoUrl` - —ç—Ç–æ base64 —Å—Ç—Ä–æ–∫–∞ —Å –≤–∞—à–∏–º —Ñ–∞–π–ª–æ–º (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `data:image/...;base64,`)
   - `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ
   - `description` - –æ–ø–∏—Å–∞–Ω–∏–µ
   - `channelName` - –∏–º—è –∫–∞–Ω–∞–ª–∞
   - –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:

–ö–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `videos` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `id` - ID –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `videoUrl` - **base64 —Å—Ç—Ä–æ–∫–∞ —Å —Ñ–∞–π–ª–æ–º** (—ç—Ç–æ –∏ –µ—Å—Ç—å –≤–∞—à —Ñ–∞–π–ª!)
- `thumbnailUrl` - –ø—Ä–µ–≤—å—é (–¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π = videoUrl)
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ
- `channelName` - –∏–º—è –∫–∞–Ω–∞–ª–∞
- `userId` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `createdAt` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `fileSize` - —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö
- `fileName` - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
- `type` - —Ç–∏–ø ('image' –∏–ª–∏ 'video')

## üí° –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∞–º —Ñ–∞–π–ª:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –≤ Firestore
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ `videoUrl`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—ç—Ç–æ base64 —Å—Ç—Ä–æ–∫–∞)
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –±—Ä–∞—É–∑–µ—Ä–∞ - —Ñ–∞–π–ª –æ—Ç–∫—Ä–æ–µ—Ç—Å—è!

–ò–ª–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –≤–∏–¥–µ–æ
3. –§–∞–π–ª –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–±—Ä–∞—É–∑–µ—Ä –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç base64)

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ **base64 —Å—Ç—Ä–æ–∫–∏** –≤ Firestore
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 33% –±–æ–ª—å—à–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: **900KB** (–∏–∑-–∑–∞ –ª–∏–º–∏—Ç–∞ Firestore –≤ 1MB –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç)
- –î–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–µ–Ω Firebase Storage (—Ç—Ä–µ–±—É–µ—Ç upgrade)

## üîÑ –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Storage:

–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Storage (–¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤):
1. –°–æ–∑–¥–∞–π—Ç–µ Storage bucket (—Ç—Ä–µ–±—É–µ—Ç upgrade)
2. –ó–∞–º–µ–Ω–∏—Ç–µ `videoServiceFirestore` –Ω–∞ `videoService` –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö
3. –§–∞–π–ª—ã –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ Storage, –∞ –Ω–µ –≤ Firestore

