# Исправление прав доступа для системы лайков

## Проблема

Если при попытке поставить лайк появляется ошибка, это может быть связано с правами доступа к коллекции `videos`.

## Решение: Настройка прав доступа

Для работы системы лайков любой авторизованный пользователь должен иметь возможность обновлять документы в коллекции `videos`.

### Шаги:

1. Откройте Appwrite Dashboard → Databases → `main` → `videos`
2. Перейдите в раздел **Settings** → **Permissions**
3. Найдите раздел **Update** (Обновление)
4. Убедитесь, что установлено одно из следующих:
   - ✅ **Users** (любой авторизованный пользователь) - **РЕКОМЕНДУЕТСЯ**
   - ✅ **Any** (любой, даже неавторизованный) - менее безопасно, но тоже работает

5. Если установлено **"Users (owner only)"** или **"Owner"** - измените на **"Users"**

### Важно:

- Права **Update: Users** позволяют любому авторизованному пользователю обновлять документы
- Это необходимо для работы системы лайков, так как любой пользователь должен иметь возможность обновлять поле `likedBy`
- Безопасность обеспечивается на уровне приложения (проверка userId в коде)

### Альтернативный вариант (если нужна большая безопасность):

Если вы хотите ограничить обновление только полем `likedBy`, можно использовать Appwrite Functions, но это более сложный подход. Для большинства случаев достаточно установить **Update: Users**.

## Проверка:

После изменения прав доступа:
1. Обновите страницу в браузере
2. Попробуйте поставить лайк
3. Если ошибка сохраняется, проверьте консоль браузера (F12) для деталей

